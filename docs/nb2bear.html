---

title: nb2bear


keywords: fastai
sidebar: home_sidebar

summary: "A package to convert a Jupyter notebook to a Bear page.̋"
description: "A package to convert a Jupyter notebook to a Bear page.̋"
nb_path: "nbs/00_nb2bear.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/00_nb2bear.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I use Jupyter notebooks for my data science projects. Bear is a general note-taking
 app that I prefer as my personal knowledge repository. While notebooks are
 excellent for exploration and development, it is easy to view them without
 starting a Jupyter server. So the intention of this tool is to format a Jupyter
 notebook into a Markdown document that gets properly rendered in Bear.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Reading-a-notebook">Reading a notebook<a class="anchor-link" href="#Reading-a-notebook"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We use a handful of regular expressions to format the contents of the notebook. In addition, this package includes the
<code>xcall</code> application which is used to call the x-callback URLs supported by Bear's API. The API token is needed to
delete any existing notes with the same title.</p>
<p>The regular expression for finding italics text comes with a caveat. The pattern <code>(\*)([^\s]*?)(\*)</code> (used earlier)
fails to identify italics text with whitespace. On the other hand, pattern <code>\*(?=\S)(.+?)(?&lt;=\S)\*</code> (currently used)
fails for sentences like "Block comments start with <code>/*</code> and end with <code>*/</code>. It matches the content "<em><code>and end with</code></em>".</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The first step of the conversion is to convert the notebook to Markdown format using <code>nbconvert</code>. Usually used as
command line tool, we use it as a regular Python package. Following <code>nbconvert</code>'s tutorial
<a href="https://nbconvert.readthedocs.io/en/latest/nbconvert_library.html">Using nbconvert as a library</a>, we first load
(<code>load_notebook</code>) the Jupyter notebook which is a JSON. We then use the <code>nbformat</code> package to parse the notebook
(<code>parse_notebook</code>). This is followed by converting the notebook to Markdown (<a href="/nb2bear/nb2bear.html#convert_nb_to_markdown"><code>convert_nb_to_markdown</code></a>) using the
<code>MarkdownExporter</code> class. Finally, we capture the base64 representations of all images in the notebook in a list which
is later used to reinsert the images after the rest of the notebook is formatted.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="load_nb" class="doc_header"><code>load_nb</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L40" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>load_nb</code>(<strong><code>nb_fn</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Read a Jupyter notebook.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="parse_nb" class="doc_header"><code>parse_nb</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L45" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>parse_nb</code>(<strong><code>nb_contents</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Convert a Jupyter notebook to a dictionary-like format.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_nb_to_markdown" class="doc_header"><code>convert_nb_to_markdown</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L50" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_nb_to_markdown</code>(<strong><code>nb_contents</code></strong>:<code>NotebookNode</code>)</p>
</blockquote>
<p>Convert a Jupyter notebook to Markdown.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_nb_images" class="doc_header"><code>get_nb_images</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L59" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_nb_images</code>(<strong><code>nb_contents</code></strong>:<code>NotebookNode</code>)</p>
</blockquote>
<p>Extract base64 representations of images in notebook.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">demo_nb_fp</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;../assets/demo.ipynb&quot;</span><span class="p">)</span>
<span class="n">demo_nb_raw</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">load_nb</span><span class="p">(</span><span class="n">demo_nb_fp</span><span class="p">)</span>
<span class="n">demo_nb_parsed</span><span class="p">:</span> <span class="n">nbformat</span><span class="o">.</span><span class="n">notebooknode</span><span class="o">.</span><span class="n">NotebookNode</span> <span class="o">=</span> <span class="n">parse_nb</span><span class="p">(</span><span class="n">demo_nb_raw</span><span class="p">)</span>
<span class="n">demo_md</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="n">convert_nb_to_markdown</span><span class="p">(</span><span class="n">demo_nb_parsed</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">demo_nb_imgs</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="n">get_nb_images</span><span class="p">(</span><span class="n">demo_nb_parsed</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Formatting-notebook-contents">Formatting notebook contents<a class="anchor-link" href="#Formatting-notebook-contents"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Prior to version 2.0, the default markup syntax in Bear was the <em>Polar Bear Markup Language</em>. It is similar to
the traditional Markdown syntax with two notable differences:</p>
<ul>
<li>Italics text is placed between <code>/ /</code> instead of <code>* *</code>.</li>
<li>Bold text is placed between <code>* *</code> instead of <code>** **</code>.</li>
</ul>
<p>Identifying italics and bold text in Markdown is tricky. For example, bullets in Markdown can start with <code>*</code>. Also,
regular text or code can contain <code>*</code> like <code>/* */</code> for comments in certain languages.</p>
<p>So the regular expression we use do not allow for whitespace between <code>*</code> pairs. Thus, <code>*this*</code> will be a match but
<code>*this won't*</code> be.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_to_pb_markup" class="doc_header"><code>convert_to_pb_markup</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L74" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_to_pb_markup</code>(<strong><code>line</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Transform specific Markdown syntax to compatible Polar Bear markup.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">italics_ex_1</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;* *Receiver Functions* are associated with a specific type.&quot;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">convert_to_pb_markup</span><span class="p">(</span><span class="n">italics_ex_1</span><span class="p">),</span> <span class="s2">&quot;* /Receiver Functions/ are associated with a specific type.&quot;</span><span class="p">)</span>

<span class="n">italics_ex_2</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;* Go is a *statically-typed* language.&quot;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">convert_to_pb_markup</span><span class="p">(</span><span class="n">italics_ex_2</span><span class="p">),</span> <span class="s2">&quot;* Go is a /statically-typed/ language.&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The Markdown content is processed and format line by line as the contents of the previous line inform decisions in
the current line. The first line, which is assumed to be the title of the document, is copied as is. For subsequent
lines, checks and modifications include:</p>
<ul>
<li>Skip the line if empty.</li>
<li>For header lines, add an empty line above if the previous line is neither empty, nor a quoted line.</li>
<li>If the line is indented:<ul>
<li>Add a <code>&gt;</code> at the beginning if the previous line starts with <code>&gt;</code>.</li>
<li>Add a <code>&gt;</code> at the beginning, and an empty line before it if the previous line is the end of a code block.</li>
</ul>
</li>
<li>In the exported Markdown, indentations are represented as a collection of whitespaces. We convert them to tabs (<code>\t</code>)
so that they are rendered correctly in Bear.</li>
<li>If the previous line starts with <code>&gt;</code> but not the current line (thus marking the end of code block output), add an
empty line.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="are_empty" class="doc_header"><code>are_empty</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L82" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>are_empty</code>(<strong><code>lines</code></strong>:<code>list</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="is_header" class="doc_header"><code>is_header</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L85" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>is_header</code>(<strong><code>line</code></strong>:<code>str</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="is_indented" class="doc_header"><code>is_indented</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L88" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>is_indented</code>(<strong><code>line</code></strong>:<code>str</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="is_code_marker" class="doc_header"><code>is_code_marker</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L91" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>is_code_marker</code>(<strong><code>line</code></strong>:<code>str</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="is_empty_line_after_header" class="doc_header"><code>is_empty_line_after_header</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L94" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>is_empty_line_after_header</code>(<strong><code>line</code></strong>, <strong><code>last_line</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="quote_if_code_output" class="doc_header"><code>quote_if_code_output</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L97" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>quote_if_code_output</code>(<strong><code>line</code></strong>, <strong><code>last_two_lines</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="format_markdown" class="doc_header"><code>format_markdown</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L104" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>format_markdown</code>(<strong><code>contents</code></strong>:<code>list</code>)</p>
</blockquote>
<p>Format Jupyter exported Markdown to Bear-compatible format.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">demo_formatted_md</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">format_markdown</span><span class="p">(</span><span class="n">demo_md</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Converting-to-HTML">Converting to HTML<a class="anchor-link" href="#Converting-to-HTML"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>Note: Embedded images in a notebook cannot be automatically added to a Bear page currently. Bear developers might
support this feature at a later date. Till then, we need to manually copy all our images from the notebook to Bear.</em></p>
<p>When the notebook contains embedded images and we wish them to be automatically integrated in a Bear note, we need to
convert the Markdown contents to HTML (<code>convert_md_to_html</code>). Then, the images extracted previously are put back in
their respective positions (<code>embed_images</code>).</p>
<p>There are differences in how Bear imports HTML and Markdown content. They include:</p>
<ul>
<li>Imported HTML contains lots of whitespace. </li>
<li>Images cannot be embedded using Markdown text.</li>
</ul>
<p>An image can be imported into Bear using a JPEG/PNG file or a base64 representation. As Mac apps are sandboxed, Bear
cannot get access to locations on the hard drive where the image files might be stored. And the <code>/create</code> action of
Bear's API which is used to create the note does not support images in base64 format. Bear developers might add this
support at a later date. To follow up on the development, check the reddit thread
<a href="https://www.reddit.com/r/bearapp/comments/l36uw3/embed_images_in_a_note_using_xcallback/gkxnx7r/?context=3">Embed images in a note using x-callback</a>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_markdown_to_html" class="doc_header"><code>convert_markdown_to_html</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L125" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_markdown_to_html</code>(<strong><code>contents</code></strong>:<code>list</code>)</p>
</blockquote>
<p>Wrap markdown text in HTML tags.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_images_to_html" class="doc_header"><code>add_images_to_html</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L131" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_images_to_html</code>(<strong><code>html</code></strong>:<code>str</code>, <strong><code>imgs</code></strong>:<code>list</code>)</p>
</blockquote>
<p>Embed images in base64 representation. (Currently not supported by Bear)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">demo_formatted_html</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">convert_markdown_to_html</span><span class="p">(</span><span class="n">demo_formatted_md</span><span class="p">)</span>
<span class="n">demo_html_with_images</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">add_images_to_html</span><span class="p">(</span><span class="n">demo_formatted_html</span><span class="p">,</span> <span class="n">demo_nb_imgs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Add-to-Bear">Add to Bear<a class="anchor-link" href="#Add-to-Bear"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If we add our notebooks to Bear incrementally, it makes sense to delete (i.e. move to <em>Trash</em>) the existing note. We
currently delete an existing note if its title exactly matches the title of the notebook. Thus, based on whether the
content sent to Bear is Markdown or HTML, we first get its title (<a href="/nb2bear/nb2bear.html#get_nb_title"><code>get_nb_title</code></a>).</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_nb_title" class="doc_header"><code>get_nb_title</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L140" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_nb_title</code>(<strong><code>text</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Get note title.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">get_nb_title</span><span class="p">(</span><span class="n">demo_formatted_md</span><span class="p">),</span> <span class="s2">&quot;Demo&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">get_nb_title</span><span class="p">(</span><span class="n">demo_formatted_html</span><span class="p">),</span> <span class="s2">&quot;Demo&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">go_fundamentals_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">get_nb_title</span><span class="p">(</span><span class="n">demo_formatted_md</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="trash_existing_note" class="doc_header"><code>trash_existing_note</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L150" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>trash_existing_note</code>(<strong><code>title</code></strong>:<code>str</code>, <strong><code>api_token</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Delete an existing note with the same title to avoid duplicates.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A note can be added to Bear using the <code>x-callback-url</code> API. To the <code>/create</code> action of this API, we supply the body
of the note (as the <code>text</code> argument) with the contents 'quoted' i.e. special characters except <code>_.-~</code> replaced with
<code>%xx</code> escapes. For instance, whitespace is replaced by <code>%20</code>.</p>
<p>If we prefer whitespaces in our note, the value for mode should be <code>comfortable</code>. In this case, the (formatted) HTML version of the notebook is sent to Bear with the right parameters (<code>type=html&amp;url=</code>). The default mode is <code>compact</code> which retains just enough whitespace to keep the note content legible.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_to_bear" class="doc_header"><code>add_to_bear</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L162" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_to_bear</code>(<strong><code>text</code></strong>:<code>str</code>, <strong><code>api_token</code></strong>:<code>str</code>, <strong><code>layout</code></strong>:<code>str</code>=<em><code>'compact'</code></em>)</p>
</blockquote>
<p>Create a new Bear note.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bear_api_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;D11B63-D71E64-DE9400&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">add_to_bear</span><span class="p">(</span><span class="n">demo_formatted_md</span><span class="p">,</span> <span class="n">bear_api_token</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Running-in-console">Running in console<a class="anchor-link" href="#Running-in-console"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If running <a href="/nb2bear/nb2bear.html"><code>nb2bear</code></a> in a Python console, the function <a href="/nb2bear/nb2bear.html#convert_nb_to_bear"><code>convert_nb_to_bear</code></a> does the job. The following screenshots
show the difference between <code>compact</code> and <code>comfortable</code> layout.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<table>
<thead><tr>
<th>Compact layout</th>
<th>Comfortable layout </th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="/nb2bear/images/compact.png" alt="compact"></td>
<td><img src="images/comfortable.png" alt="comfortable"></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_nb_to_bear" class="doc_header"><code>convert_nb_to_bear</code><a href="https://github.com/tejas-kale/nb2bear/tree/master/nb2bear/nb2bear.py#L172" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_nb_to_bear</code>(<strong><code>nb_fn</code></strong>:<code>str</code>, <strong><code>api_token</code></strong>:<code>str</code>, <strong><code>layout</code></strong>:<code>str</code>=<em><code>'compact'</code></em>)</p>
</blockquote>
<p>Convert a Jupyter notebook to a Bear page.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">convert_nb_to_bear</span><span class="p">(</span><span class="n">demo_nb_fp</span><span class="p">,</span> <span class="n">bear_api_token</span><span class="p">,</span> <span class="s2">&quot;comfortable&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Command-line-interface">Command line interface<a class="anchor-link" href="#Command-line-interface"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.export</span> <span class="kn">import</span> <span class="n">notebook2script</span>
<span class="n">notebook2script</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted 00_nb2bear.ipynb.
Converted index.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

